## 리소스(EC2, RDS)와 인프라(VPC)의 결정적 차이

### **1. 개념의 본질적 차이: 물건 vs 공간**

질문의 핵심은 **"서비스(Resource)"**와 **"환경(Environment)"**을 혼동하는 데서 옵니다. 이 둘은 선택의 문제가 아니라 포함 관계입니다.

가장 쉬운 비유로 **'집 짓기'**를 들어 설명합니다.

* **EC2, RDS (가구와 가전제품):** 실제로 우리가 사용하는 서버(컴퓨터)와 데이터베이스입니다. TV, 소파, 냉장고처럼 실제 기능을 수행하는 물건들입니다.
* **VPC (집의 벽과 주소):** 가구를 배치할 **'사설 공간'**입니다. 울타리(보안), 방(서브넷), 현관문(게이트웨이), 집 주소(IP 대역)를 의미합니다.

> **핵심:** VPC 없이는 EC2나 RDS를 만들 수 없습니다. 허공에 가구를 띄워놓을 수 없는 것과 같습니다.

---

### **2. 왜 "그냥 EC2만 만들었다"고 착각하는가?**

초심자들이 가장 많이 하는 오해는 "나는 VPC 안 만들고 그냥 EC2만 띄워서 썼는데?"라는 것입니다.

* **Default VPC (기본 VPC):** AWS는 사용자가 계정을 처음 만들면 자동으로 `172.31.0.0/16` 대역의 **'기본 VPC'**를 미리 만들어둡니다.
* **착시 현상:** 사용자가 EC2 생성 버튼을 누를 때, AWS는 묻지도 않고 이 '기본 VPC' 구석에 EC2를 배치합니다. 그래서 사용자는 VPC를 신경 쓰지 않아도 된다고 착각하게 됩니다.
* **실무의 문제: 기업 환경에서는 보안상 '기본 VPC'를 삭제하고, 처음부터 설계된 '커스텀 VPC'를 사용해야 합니다.**

---

### **3. S3는 다르다 (VPC 밖에 존재)**

질문에서 S3를 포함하셨는데, **S3는 EC2/RDS와 위치가 다릅니다.**

* **EC2, RDS:** 반드시 **VPC 내부(Subnet)**에 위치해야 합니다. (VPC 종속)
* **S3:** **VPC 외부(인터넷 공간)**에 존재합니다. (Region 종속)
* S3는 기본적으로 퍼블릭 인터넷을 통해 접근하는 저장소입니다.
* VPC 내부의 EC2가 S3와 통신하려면 인터넷 게이트웨이를 타고 나가거나, **'VPC Endpoint'**라는 특수 통로를 뚫어야 합니다.



---

### **4. VPC 구축 유무에 따른 차이점**

VPC를 직접 설계(Custom VPC)하는 것과, 그냥 자동 설정(Default VPC)에 의존하는 것의 차이는 다음과 같습니다.

| 구분 | Default VPC (그냥 EC2 만들기) | Custom VPC (VPC 설계 후 EC2 만들기) |
| --- | --- | --- |
| **IP 관리** | AWS가 주는 대로 씀 (랜덤 IP) | 내가 원하는 IP 대역 설계 가능 (관리 용이) |
| **보안성** | 모든 서브넷이 인터넷과 연결됨 (공격에 취약) | 외부와 단절된 **Private Subnet** 생성 가능 (DB 보호 필수) |
| **확장성** | 온프레미스(사내망)와 VPN 연결 불가능할 수 있음 (IP 충돌) | 사내망 IP 대역을 피해 설계하므로 하이브리드 구성 용이 |
| **용도** | 개인 학습, 단순 테스트 | **실제 기업 서비스, 상용 프로젝트** |

### **5. 요약: 아키텍처의 순서**

올바른 클라우드 구축 순서는 다음과 같습니다.

1. **VPC (땅과 건물 올리기):** 사설 네트워크 대역을 잡고 보안 울타리를 칩니다.
2. **Subnet (방 나누기):** 웹 서버를 둘 방(Public)과 DB를 숨길 방(Private)을 나눕니다.
3. **EC2/RDS (가구 배치):** 그 방 안에 비로소 서버와 DB를 설치합니다.
4. **S3 (외부 창고 사용):** 필요시 VPC 외부의 S3와 연결 통로를 엽니다.

Next
퍼블릭 서브넷(Public Subnet)과 프라이빗 서브넷(Private Subnet)의 기술적 차이와 라우팅 테이블 설정법 (40분 분량)
