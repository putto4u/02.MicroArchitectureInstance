본문 작성 전 확인 사항: 요청하신 대로 개인적인 대화나 설명은 생략하고, 강의 교재(책) 형식의 본문만 작성하였습니다. 윈도우와 리눅스 환경에서의 설치 및 설정 방법을 상세히 기술하였습니다.

---

# OS별 AWS CLI 설치 및 환경 구성 가이드

## 1. 개요

AWS CLI(Command Line Interface) 버전 2는 현재 AWS의 표준 CLI 버전이다. 운영체제별로 설치 방식에 차이가 있으나, 설치 후 사용하는 명령어 문법(Syntax)은 동일하다. 본 장에서는 가장 대중적인 **Windows**와 **Linux** 환경에서의 설치 및 초기 설정 방법을 다룬다.

> **Note:** AWS CLI 도구 자체의 다운로드 및 설치는 **무료**이다. 단, 설정을 마친 후 CLI를 통해 생성하는 AWS 리소스(EC2, RDS 등)는 과금 대상이 될 수 있다.

---

## 2. Windows 환경 설치

Windows에서는 전통적인 MSI 인스톨러를 다운로드하여 설치하거나, 터미널(PowerShell/CMD)에서 명령어를 통해 설치할 수 있다. 여기서는 실무 자동화를 고려하여 터미널 기반 설치 방법을 권장한다.

### 2.1 설치 절차 (PowerShell 사용)

관리자 권한으로 PowerShell을 실행한 후, 다음 명령어를 순차적으로 입력한다.

```powershell
# 1. AWS CLI v2 MSI 인스톨러 다운로드
msiexec.exe /i https://awscli.amazonaws.com/AWSCLIV2.msi

# 2. 설치 마법사가 실행되면 'Next'를 눌러 기본 경로에 설치 완료
# (설치 과정에서 화면의 지시를 따른다)

```

### 2.2 설치 확인

설치가 완료되면 새로운 터미널 창(CMD 또는 PowerShell)을 열어 정상적으로 경로가 잡혔는지 확인한다.

```powershell
aws --version
# 정상 출력 예시: aws-cli/2.x.x Python/3.x.x Windows/10 exe/AMD64 prompt/off

```

* 에러 발생 시: 환경 변수(PATH)에 `C:\Program Files\Amazon\AWSCLIV2\`가 등록되었는지 확인하거나 재부팅이 필요할 수 있다.

---

## 3. Linux 환경 설치

Linux(Ubuntu, CentOS, Amazon Linux 등)에서는 패키지 관리자(`apt`, `yum`)보다는 AWS가 공식 제공하는 설치 스크립트(Zip 파일)를 사용하는 것이 가장 안정적이고 최신 버전을 유지하는 방법이다.

### 3.1 설치 절차 (x86_64 아키텍처 기준)

터미널에서 다음 명령어를 실행한다. `sudo` 권한이 필요하다.

```bash
# 1. 설치 파일 다운로드 (curl)
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"

# 2. 압축 해제 (unzip이 없다면 'sudo apt install unzip' 또는 'sudo yum install unzip' 선행 필요)
unzip awscliv2.zip

# 3. 설치 스크립트 실행
sudo ./aws/install

```

### 3.2 설치 확인

```bash
aws --version
# 정상 출력 예시: aws-cli/2.x.x Python/3.x.x Linux/4.x.x exe/x86_64.ubuntu.20

```

### 3.3 (참고) 업데이트 방법

이미 설치된 상태에서 최신 버전으로 업데이트하려면 `install` 명령어에 `--update` 옵션을 추가한다.

```bash
sudo ./aws/install --bin-dir /usr/local/bin --install-dir /usr/local/aws-cli --update

```

---

## 4. 공통 설정: 자격 증명 구성 (Configure)

설치가 완료되었다면 OS에 상관없이 `aws configure` 명령어를 통해 AWS 계정과 연결해야 한다. 이 과정이 없으면 API 호출 시 권한 거부(Access Denied) 오류가 발생한다.

### 4.1 기본 프로필 설정

터미널에서 다음 명령어를 입력하면 4가지 정보를 순차적으로 묻는다.

```bash
aws configure

```

| 입력 항목 | 설명 | 입력 예시 |
| --- | --- | --- |
| **AWS Access Key ID** | IAM 사용자 생성 시 발급받은 액세스 키 ID | `AKIAIOSFODNN7EXAMPLE` |
| **AWS Secret Access Key** | IAM 사용자 생성 시 발급받은 비밀 키 (절대 노출 금지) | `wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY` |
| **Default region name** | 주 사용 리전 코드 (서울은 `ap-northeast-2`) | `ap-northeast-2` |
| **Default output format** | 명령어 결과 출력 형식 (json, table, text, yaml) | `json` |

### 4.2 설정 파일 위치

입력한 정보는 사용자 홈 디렉터리의 `.aws` 폴더에 평문으로 저장된다.

* **Windows:** `C:\Users\USERNAME\.aws\` (`credentials`, `config` 파일)
* **Linux/Mac:** `~/.aws/` (`credentials`, `config` 파일)

> **Security Warning:** 공용 PC나 공유 서버에서는 `credentials` 파일이 타인에게 노출되지 않도록 파일 권한 관리에 각별히 유의해야 한다. (`chmod 600 ~/.aws/credentials`)

---

## 5. 멀티 프로파일 (Named Profile) 관리

실무에서는 개발(Dev), 운영(Prod) 등 여러 AWS 계정을 동시에 관리해야 할 때가 많다. 이때는 `--profile` 옵션을 사용하여 자격 증명을 분리한다.

### 5.1 프로파일 추가

```bash
aws configure --profile my-dev-account
# 이후 입력하는 키 정보는 'my-dev-account'라는 이름으로 별도 저장됨

```

### 5.2 프로파일 사용

특정 프로파일로 명령을 내릴 때는 명령어 뒤에 `--profile`을 붙인다.

```bash
# 기본 프로필 사용
aws s3 ls

# 개발 계정 프로필 사용
aws s3 ls --profile my-dev-account

```

---

Next Step: AWS IAM 정책(Policy) 구조 이해와 최소 권한 원칙 적용 실습
