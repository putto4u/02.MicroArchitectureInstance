## 3대 클라우드 CLI 도구 설치 및 로컬 환경 구성

클라우드 리소스를 웹 콘솔(Web Console)이 아닌 사용자의 PC(로컬 환경)에서 직접 제어하기 위해서는 각 CSP가 제공하는 CLI(Command Line Interface) 도구를 설치하고 인증(Authentication) 과정을 거쳐야 합니다. 이 장에서는 Windows, macOS, Linux 환경에서의 표준 설치 방법과 최초 구성 절차를 다룹니다.

---

### 1. AWS CLI (Amazon Web Services)

AWS CLI는 버전 1과 2가 있으나, 현재 표준인 **AWS CLI v2** 설치를 기준으로 합니다.

#### 1.1 설치 방법

**Windows**

* 공식 홈페이지에서 MSI 설치 관리자를 다운로드하여 실행합니다.
* PowerShell 명령: `msiexec.exe /i https://awscli.amazonaws.com/AWSCLIV2.msi`

**macOS**

* PKG 파일 설치 또는 Homebrew 사용:
```bash
brew install awscli

```



**Linux (x86_64)**

* 설치 파일을 다운로드하고 압축을 해제하여 설치 스크립트를 실행합니다.
```bash
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install

```



#### 1.2 버전 확인

터미널에서 다음 명령어를 입력하여 설치 성공 여부를 확인합니다.

```bash
aws --version
# 출력 예: aws-cli/2.x.x Python/3.x.x ...

```

#### 1.3 초기 설정 (Configuration)

AWS는 **Access Key**와 **Secret Key**를 직접 입력하는 방식이 기본입니다.

1. 웹 콘솔 IAM에서 사용자 생성 후 `.csv` 키 파일을 다운로드합니다.
2. 터미널에서 `aws configure`를 입력하고 다음 정보를 순서대로 입력합니다.

```bash
$ aws configure
AWS Access Key ID [None]: (다운로드 받은 Access Key 입력)
AWS Secret Access Key [None]: (다운로드 받은 Secret Key 입력)
Default region name [None]: ap-northeast-2  (서울 리전 코드)
Default output format [None]: json

```

> **⚠️ 보안 주의:** 입력한 키 정보는 `~/.aws/credentials` 파일에 평문으로 저장됩니다. 이 파일이 외부에 유출되지 않도록 각별히 주의해야 합니다.

---

### 2. Azure CLI (Microsoft Azure)

Azure CLI는 Python 기반으로 작성되었으며 `az` 명령어를 사용합니다.

#### 2.1 설치 방법

**Windows**

* PowerShell에서 다음 명령어로 최신 버전을 설치합니다.
```powershell
$ProgressPreference = 'SilentlyContinue'; Invoke-WebRequest -Uri https://aka.ms/installazurecliwindows -OutFile .\AzureCLI.msi; Start-Process msiexec.exe -Wait -ArgumentList '/I AzureCLI.msi /quiet'; Remove-Item .\AzureCLI.msi

```



**macOS**

* Homebrew 사용:
```bash
brew update && brew install azure-cli

```



**Linux (Ubuntu/Debian)**

* Microsoft 레지스트리 등록 후 설치:
```bash
curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash

```



#### 2.2 버전 확인

```bash
az --version

```

#### 2.3 초기 설정 (Login)

Azure는 별도의 키 입력 없이 **웹 브라우저 기반 인증(OAuth)**을 사용합니다.

```bash
$ az login

```

1. 명령어 실행 시 기본 웹 브라우저가 자동으로 실행됩니다.
2. Azure 계정으로 로그인하고 창을 닫으면 터미널에 로그인 성공 메시지가 출력됩니다.
3. (선택) 여러 구독(Subscription)이 있는 경우 사용할 구독을 지정합니다.
```bash
az account set --subscription "구독 이름 또는 ID"

```



---

### 3. Google Cloud SDK (Google Cloud Platform)

GCP는 `gcloud` 명령어를 포함한 Google Cloud SDK를 설치해야 합니다. Python 3.8 이상 버전이 시스템에 설치되어 있어야 원활하게 작동합니다.

#### 3.1 설치 방법

**Windows**

* Google Cloud SDK 설치 관리자(.exe)를 다운로드하여 실행합니다.

**macOS**

* Homebrew Cask 사용:
```bash
brew install --cask google-cloud-sdk

```



**Linux (Ubuntu/Debian)**

* 패키지 소스 추가 후 설치:
```bash
echo "deb [signed-by=/usr/share/keyrings/cloud.google.gpg] https://packages.cloud.google.com/apt cloud-sdk main" | sudo tee -a /etc/apt/sources.list.d/google-cloud-sdk.list
sudo apt-get update && sudo apt-get install google-cloud-sdk

```



#### 3.2 버전 확인

```bash
gcloud --version

```

#### 3.3 초기 설정 (Init)

GCP는 `init` 명령어를 통해 인증, 프로젝트 선택, 리전 설정을 한 번에 수행합니다.

```bash
$ gcloud init

```

1. **로그인:** `Y`를 입력하면 브라우저가 열리고 Google 계정 권한 요청을 승인합니다.
2. **프로젝트 선택:** 기존 프로젝트 목록에서 번호를 선택하거나 새 프로젝트를 생성합니다.
3. **리전 설정:** 기본 컴퓨팅 리전/존을 선택합니다. (예: `asia-northeast3-a` - 서울)

---

### 4. 3대 클라우드 CLI 설정 요약 및 검증

설치가 완료되었다면 각 클라우드에 "현재 내가 누구인가?"를 묻는 명령어로 연결 상태를 최종 점검합니다.

| 구분 | AWS | Azure | GCP |
| --- | --- | --- | --- |
| **설치 명령** | `aws` | `az` | `gcloud` |
| **초기 구성** | `aws configure` | `az login` | `gcloud init` |
| **인증 방식** | Access Key / Secret Key 직접 입력 | 브라우저 팝업 (OAuth) | 브라우저 팝업 (OAuth) |
| **연결 확인**<br>

<br>(Who am I) | `aws sts get-caller-identity` | `az account show` | `gcloud auth list` |
| **구성 파일 위치**<br>

<br>(Linux/Mac) | `~/.aws/` | `~/.azure/` | `~/.config/gcloud/` |

---

Next Step: IaC(Infrastructure as Code) 도구인 Terraform의 기초 개념 및 3대 클라우드 통합 관리 맛보기
