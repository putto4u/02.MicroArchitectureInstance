
# Amazon EC2 인스턴스 (Instance) 심화 분석

## 1. 인스턴스의 개념적 이해 (Analogy & Concept)

EC2 인스턴스의 본질을 명확히 이해하기 위해, IT 전문가에게 익숙한 **운영체제(OS)** 및 **객체 지향 프로그래밍(OOP)** 개념과 비교 분석한다. 세 가지 개념 모두 **'정적인 템플릿'**과 그것이 메모리에 로드되어 실행되는 **'동적인 실체'**로 구분된다는 공통점을 가진다.

| 구분 | 정적 요소 (Static / Template) | 동적 요소 (Dynamic / Runtime) | 관계 (Relationship) |
| --- | --- | --- | --- |
| **운영체제 (OS)** | **프로그램 (Program)**<br>디스크에 저장된 코드 덩어리. 실행 전까지는 CPU/RAM을 점유하지 않음. (예: Chrome.exe) | **프로세스 (Process)**<br>메모리에 적재되어 실행 중인 상태. PID를 부여받고 실제 리소스를 소모함. | **1 : N**<br>(프로그램 하나로 여러 프로세스 실행 가능) |
| **프로그래밍 (OOP)** | **클래스 (Class)**<br>>속성과 메서드가 정의된 설계도(Blueprint). | **객체 (Object) / 인스턴스**<br>클래스를 통해 메모리에 실체화(Instantiation)된 개체. | **1 : N**<br>(클래스 하나로 여러 객체 생성 가능) |
| **AWS Cloud** | **AMI (Amazon Machine Image)**<br>OS 및 설정이 담긴 템플릿.<br>**[💰비용]** S3 스토리지 보관 비용만 발생. | **EC2 인스턴스 (Instance)**<br>AMI를 기반으로 생성된 가상 서버.<br>**[💰비용]** 실행 시간(초) 단위로 컴퓨팅 비용 발생. | **1 : N**<br>(AMI 하나로 수천 대의 인스턴스 생성 - Auto Scaling) |

---

## 2. 인스턴스 정의 및 가상화

**인스턴스(Instance)**란 클라우드 컴퓨팅 환경에서 생성되어 실행되는 **가상 서버(Virtual Server)**를 의미한다.

* **가상화 기술:** 물리적인 호스트 서버 위에 **하이퍼바이저(Hypervisor, 예: AWS Nitro System, Xen)**가 구동되며, 물리 자원(CPU, RAM)을 논리적으로 분할하여 각 인스턴스에 할당한다.
* **독립성:** 하나의 물리 서버에 여러 인스턴스가 존재하더라도, 각 인스턴스는 서로 완벽하게 격리되어 독립된 OS와 리소스를 가진다.

---

## 3. 인스턴스 구성 4대 핵심 요소

인스턴스가 정상적으로 작동하기 위해서는 다음 4가지 요소가 반드시 결합되어야 한다.

| 구성 요소 | 설명 | 비유 (붕어빵) |
| --- | --- | --- |
| **AMI** | 소프트웨어 구성 (OS, 미들웨어, 앱) 템플릿 | 붕어빵 틀 |
| **인스턴스 유형** | 하드웨어 사양 (vCPU, RAM, Network Bandwidth) | 붕어빵 크기/재료 |
| **EBS (Storage)** | **[💰유료 과금]** 영구적 블록 스토리지. OS 부팅 및 데이터 저장. | 접시 (없으면 빵을 못 담음) |
| **보안 그룹** | 인스턴스 레벨의 가상 방화벽. 트래픽 허용 규칙 정의. | 칸막이/출입문 |

---

## 4. 인스턴스 수명 주기 (Lifecycle)와 비용 구조

인스턴스 상태에 따른 과금 여부를 정확히 파악해야 불필요한 비용을 막을 수 있다.

### 4.1 실행 중 (Running) **[💰 전체 과금]**

* **상태:** 인스턴스가 부팅되어 정상 작동 중.
* **비용:** `인스턴스 사용료` + `EBS 스토리지 비용` + `IPv4 공인 IP 비용` 발생.

### 4.2 중지 (Stopped) **[💰 스토리지 과금 주의]**

* **상태:** 인스턴스 전원을 끈 상태 (OS Shutdown).
* **컴퓨팅 비용:** **0원.** (CPU/RAM 반납)
* **스토리지 비용:** **[💰발생]** EBS 볼륨에 저장된 데이터는 유지되므로 **EBS 요금은 계속 청구됨.**
* **데이터:** RAM 데이터는 휘발되나, EBS 데이터는 보존됨. (단, Instance Store 데이터는 삭제됨)

### 4.3 종료 (Terminated)

* **상태:** 인스턴스 영구 삭제.
* **비용:** 더 이상 발생하지 않음.
* **데이터:** `DeleteOnTermination` 옵션이 켜진 EBS 볼륨은 함께 삭제됨.

---

Next Step: EBS Volume Types (gp3, io2, st1) & Performance
