## AWS 표준 Linux: Amazon Linux (Amazon Linux 2023)

AWS에서 제공하는 가장 표준적이고 공식적인 Linux 배포판은 **Amazon Linux**입니다. AWS 클라우드 환경에서 최고의 성능과 안정성, 그리고 보안을 제공하도록 AWS가 직접 개발하고 유지 관리하는 운영체제(OS)입니다.

현재(2025년 기준) 최신 표준 버전은 **Amazon Linux 2023 (AL2023)**이며, 기존의 **Amazon Linux 2 (AL2)**를 대체하고 있습니다.

---

### 1. Amazon Linux의 핵심 특징

타 Linux 배포판(Ubuntu, CentOS 등)과 구별되는 Amazon Linux만의 강점은 **'AWS 환경에 대한 최적화'**입니다.

#### 1.1 기본 탑재 도구 (Pre-installed Tools)

AWS 서비스를 제어하고 관리하기 위한 필수 도구들이 사전에 설치되어 있어, 별도의 설치 과정 없이 바로 사용할 수 있습니다.

* **AWS CLI (v2):** 명령줄 제어 도구 기본 탑재.
* **SSM Agent:** AWS Systems Manager를 통한 원격 관리를 지원하는 에이전트 탑재.
* **Cloud-init:** 인스턴스 부팅 시 초기 설정을 자동화하는 패키지 포함.

#### 1.2 성능 및 드라이버 최적화

EC2 가상화 환경(Nitro System)에 맞춰 커널이 튜닝되어 있습니다.

* 빠른 부팅 속도.
* **ENA (Elastic Network Adapter):** 고성능 네트워크 드라이버 최적화.
* **NVMe Drivers:** 고속 스토리지 I/O를 위한 드라이버 내장.

#### 1.3 비용 효율성

* **라이선스 비용 무료:** RHEL(Red Hat Enterprise Linux)이나 SUSE와 달리 별도의 OS 라이선스 비용이 없습니다. (EC2 컴퓨팅 비용만 지불)
* **장기 지원 (LTS):** AL2023은 5년의 장기 지원(LTS)을 제공하여 엔터프라이즈 환경에 적합합니다.

---

### 2. 버전 비교: Amazon Linux 2 vs Amazon Linux 2023

현재 과도기적인 시점으로 두 버전이 혼용되고 있으나, 신규 구축 시에는 **AL2023** 사용이 권장됩니다.

| 비교 항목 | Amazon Linux 2 (AL2) | Amazon Linux 2023 (AL2023) |
| --- | --- | --- |
| **기반 (Upstream)** | CentOS 7 / RHEL 7 기반 | **Fedora** 기반 (CentOS Stream 아님) |
| **패키지 관리자** | `yum` | **`dnf`** (`yum` 명령어 사용 가능하나 `dnf`로 연결됨) |
| **초기 SSH 사용자** | `ec2-user` | `ec2-user` |
| **보안 정책** | 표준 설정 | **Security Hardened** (기본 보안 강화, SELinux 활성화) |
| **Python 버전** | Python 2.7 (기본) / 3.x 설치 필요 | **Python 3.9 이상** (기본) |
| **지원 종료일** | 2025년 6월 (지원 종료 예정) | 출시일로부터 5년 (2028년 예정) |

> **※ 주의사항:** AL2023은 Fedora 기반이므로 기존 CentOS 7 명령어(EPEL 저장소 사용 등)와 호환되지 않는 부분이 있어 마이그레이션 시 주의가 필요합니다.

---

### 3. 패키지 관리 및 사용법

Amazon Linux는 Red Hat 계열(RHEL, Fedora, CentOS)의 패키지 관리 방식을 따릅니다.

#### 3.1 패키지 설치 및 업데이트

과거 `yum` 명령어를 사용했으나, AL2023부터는 최신 패키지 관리자인 **`dnf`** 사용을 표준으로 합니다.

```bash
# 시스템 패키지 전체 업데이트
sudo dnf update -y

# 패키지 설치 (예: git)
sudo dnf install git -y

# 패키지 검색
sudo dnf search nginx

```

#### 3.2 EPEL 저장소 관련 (AL2023의 특징)

기존 CentOS/AL2에서는 `EPEL(Extra Packages for Enterprise Linux)` 저장소를 많이 사용했으나, **AL2023은 EPEL을 공식 지원하지 않습니다.** 대신 AWS가 자체적으로 관리하는 저장소를 통해 필요한 대부분의 패키지를 제공하며, 없는 경우 소스 컴파일이나 컨테이너(Docker) 사용을 권장합니다.

---

### 4. 다른 배포판과의 비교 요약

| 구분 | Amazon Linux 2023 | Ubuntu (LTS) | RHEL / CentOS |
| --- | --- | --- | --- |
| **제공 주체** | **AWS** | Canonical | Red Hat / Community |
| **주요 용도** | **AWS EC2 전용** | 범용 (On-premise, Cloud, Desktop) | 엔터프라이즈 서버 |
| **패키지 포맷** | `.rpm` (dnf) | `.deb` (apt) | `.rpm` (dnf/yum) |
| **사용자 계정** | `ec2-user` | `ubuntu` | `root` or `ec2-user` |
| **장점** | AWS 최적화, 무료, 가벼움 | 방대한 커뮤니티, 문서 풍부 | 안정성, 상용 SW 호환성 |

---

Next Step: 생성된 EC2 인스턴스(Amazon Linux)에 SSH 클라이언트를 이용하여 원격 접속하기 (Windows/Mac)

---


### 1. `apt` 명령어를 사용할 수 없는 이유 (OS 계열의 차이)

결론부터 말씀드리면, **Amazon Linux에서는 `apt` 명령어를 사용할 수 없습니다.** 이는 리눅스의 '가문(계열)'이 다르기 때문입니다.

* **Debian 계열 (Ubuntu, Linux Mint):** `.deb` 설치 파일을 사용하며 패키지 관리자로 **`apt`** (Advanced Package Tool)를 사용합니다.
* **Red Hat 계열 (Amazon Linux, CentOS, RHEL, Fedora):** `.rpm` 설치 파일을 사용하며 패키지 관리자로 **`dnf`** 또는 `yum`을 사용합니다.

따라서 Ubuntu 사용 경험이 있다면, Amazon Linux에서는 `apt` 대신 **`dnf`** 명령어를 사용해야 합니다.

#### [참고] 명령어 대조표 (Ubuntu vs Amazon Linux)

| 동작 | Ubuntu (Debian 계열) | Amazon Linux (Red Hat 계열) |
| --- | --- | --- |
| **패키지 목록 갱신** | `apt update` | `dnf check-update` |
| **패키지 설치** | `apt install [이름]` | **`dnf install [이름]`** |
| **패키지 삭제** | `apt remove [이름]` | `dnf remove [이름]` |
| **시스템 전체 업데이트** | `apt upgrade` | **`dnf update`** |
| **패키지 검색** | `apt search [이름]` | `dnf search [이름]` |

---

## 우분투(Ubuntu) Linux 선택 시 장단점과 멀티·하이브리드 클라우드 전략

AWS 환경에서 표준인 Amazon Linux 대신 **Ubuntu Server**를 선택하는 것은 매우 흔한 일이며, 특히 특정 패키지 의존성이나 개발자 편의성을 고려할 때 강력한 대안이 됩니다. 또한, 단일 클라우드가 아닌 **멀티 클라우드(AWS+Azure+GCP)**나 **하이브리드 클라우드(On-premise+Cloud)** 환경을 고려한다면 Ubuntu는 가장 전략적인 선택지가 될 수 있습니다.

---

### 1. AWS EC2에서 Ubuntu 선택 시 장단점

Amazon Linux와 비교했을 때의 득실을 분석합니다.

#### 1.1 장점 (Pros)

* **압도적인 생태계와 익숙함:** 전 세계적으로 가장 많이 사용되는 Linux 배포판입니다. `apt` 패키지 관리자와 `.deb` 파일 형식은 개발자들에게 매우 익숙하며, 구글링을 통해 문제 해결법을 찾기가 훨씬 쉽습니다.
* **방대한 패키지 호환성:** 딥러닝(AI), 데이터 분석, 최신 오픈소스 툴 등은 Ubuntu를 기준으로 배포되는 경우가 많습니다. (예: NVIDIA Driver, CUDA 등 AI 관련 라이브러리 설치가 용이함)
* **벤더 중립성 (Vendor Neutral):** Ubuntu는 AWS뿐만 아니라 Azure, Google Cloud, 개인 PC, 온프레미스 서버 어디서든 동일하게 동작합니다. 이는 클라우드 제공자(CSP)를 변경할 때 OS 학습 비용을 줄여줍니다.
* **명확한 릴리즈 주기 (LTS):** 2년마다 출시되는 LTS(Long Term Support) 버전(18.04, 20.04, 22.04, 24.04)을 통해 OS의 수명 주기를 예측하고 관리하기 쉽습니다.

#### 1.2 단점 (Cons)

* **초기 설정의 번거로움:** Amazon Linux에는 기본 탑재된 **AWS CLI, SSM Agent** 등이 Ubuntu에는 없을 수 있어(최신 AMI에는 포함되는 추세이나) 별도 설치가 필요할 수 있습니다.
* **무거움:** Amazon Linux에 비해 기본 설치된 패키지가 많아 OS 이미지가 다소 무겁고, 부팅 속도가 미세하게 느릴 수 있습니다.
* **커널 최적화:** Amazon Linux는 AWS의 하이퍼바이저(Nitro System)에 극한으로 튜닝되어 출시되지만, Ubuntu는 범용 커널을 사용하므로 극한의 성능 튜닝이 필요한 경우 별도 설정이 필요할 수 있습니다.

| 비교 항목 | Amazon Linux 2023 | Ubuntu Server (LTS) |
| --- | --- | --- |
| **패키지 관리** | `dnf` / `rpm` | `apt` / `deb` |
| **명령어 계열** | Red Hat 계열 | Debian 계열 |
| **AWS 최적화** | 최상 (Native) | 우수 (General) |
| **멀티 클라우드** | AWS 종속적 (이식 어려움) | **매우 우수 (어디서나 동일)** |

---

### 2. 멀티·하이브리드 클라우드 구축 시 중요 고려사항

만약 귀하가 AWS만 쓰는 것이 아니라, 온프레미스(IDC)와 클라우드를 섞거나 여러 클라우드를 혼용할 계획이라면 **OS 표준화**가 핵심 과제입니다.

#### 2.1 OS 파편화 방지 (Golden Image 전략)

* **문제점:** AWS에서는 Amazon Linux, Azure에서는 Azure Linux, 온프레미스에서는 CentOS를 쓴다면 관리자는 3가지 OS의 명령어, 보안 패치 방법, 로그 위치를 모두 익혀야 합니다.
* **해결책:** **Ubuntu로 OS를 통일**합니다. Packer와 같은 이미징 도구를 사용하여 하나의 소스 코드로 AWS AMI, Azure VM Image, VMWare 템플릿을 동시에 생성하는 **'골든 이미지(Golden Image)'** 파이프라인을 구축해야 합니다.

#### 2.2 IaC(Terraform/Ansible) 스크립트의 재사용성

* 인프라 자동화 도구인 Ansible 등을 사용할 때, OS가 다르면 패키지 설치 명령어가 달라집니다.
* Amazon Linux: `yum install httpd`
* Ubuntu: `apt install apache2` (패키지명도 다름)


* OS를 Ubuntu로 통일하면 하나의 프로비저닝 스크립트를 수정 없이 모든 클라우드 환경에 배포할 수 있어 **운영 효율성**이 극대화됩니다.

#### 2.3 컨테이너(Kubernetes) 노드 호환성

* Kubernetes(K8s) 클러스터를 구축할 때 워커 노드(Worker Node)의 OS가 다르면 컨테이너 런타임 설정이나 네트워크 플러그인(CNI) 설정이 복잡해질 수 있습니다.
* 대부분의 K8s 튜토리얼과 상용 솔루션은 Ubuntu를 레퍼런스(표준)로 삼고 있으므로, 하이브리드 K8s 구축 시 Ubuntu를 선택하는 것이 트러블슈팅에 유리합니다.

---

### 3. 실무자를 위한 체크리스트

Ubuntu를 선택하여 하이브리드 환경을 구성할 때 다음 사항을 점검하십시오.

1. **사용자 계정 이름:** Amazon Linux는 `ec2-user`를 쓰지만, Ubuntu는 **`ubuntu`** 계정을 사용합니다. SSH 접속 스크립트 작성 시 주의해야 합니다.
2. **보안 그룹 및 방화벽 이중화:** AWS 보안 그룹 외에 Ubuntu 내부의 방화벽인 **`ufw`**(Uncomplicated Firewall)가 활성화되어 있는지 확인해야 합니다. (AWS 보안 그룹만 믿고 `ufw`를 끄거나, 반대로 `ufw` 때문에 접속이 막히는 경우를 대비)
3. **업데이트 저장소 속도:** AWS 내부에서는 AWS가 제공하는 미러 서버를 사용하여 `apt update`가 빠르지만, 하이브리드 구성 시 온프레미스 서버는 카카오(Kakao)나 카이스트(KAIST) 등 국내 미러 서버로 변경해야 속도 저하를 막을 수 있습니다.

---

Next Step: Windows 및 Mac 환경에서 SSH(Secure Shell) 클라이언트를 이용하여 생성한 EC2 인스턴스에 원격 접속하기
