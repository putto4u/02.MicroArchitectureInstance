 **AWS Ubuntu Linux 인스턴스**에 접속하여 **고성능 Nginx 웹 서버**를 설치하고 운영하는 방법을 단계별로 명확하게 정리해 드리겠습니다. **보안 그룹 설정**과 **서비스 관리**가 핵심입니다.

---

## 🚀 AWS Ubuntu 인스턴스에 Nginx 설치 및 운영 방법

이 절차는 SSH 접속, 패키지 설치, 방화벽 설정(AWS 보안 그룹), 그리고 Nginx 서비스 관리로 구성됩니다.

### 1단계: SSH 접속 및 시스템 업데이트

AWS 인스턴스를 시작한 후, SSH 키(`.pem` 파일)를 사용하여 인스턴스에 안전하게 접속합니다.

1.  **터미널 접속:**
    * **권한 설정 확인:**
        $$\text{chmod 400 your-key.pem}$$
    * **SSH 접속 (기본 사용자: ubuntu):**
        $$\text{ssh -i your-key.pem ubuntu@\[퍼블릭 IP 주소]}$$

2.  **시스템 업데이트:**
    시스템을 최신 상태로 유지하여 **보안 취약점**을 제거합니다.
    $$\text{sudo apt update}$$
    $$\text{sudo apt upgrade -y}$$

---

### 2단계: Nginx 설치 및 서비스 활성화

Ubuntu에서는 `apt` 패키지 관리자를 사용하여 Nginx를 쉽게 설치할 수 있습니다.

1.  **Nginx 설치:**
    $$\text{sudo apt install nginx -y}$$

2.  **서비스 상태 확인:**
    설치가 완료되면 Nginx 서비스가 자동으로 시작되는지 확인합니다.
    $$\text{sudo systemctl status nginx}$$
    (출력 메시지에서 **`active (running)`** 상태를 확인해야 합니다.)

3.  **부팅 시 자동 시작 설정 (선택):**
    인스턴스가 재부팅되더라도 Nginx가 자동으로 실행되도록 설정합니다.
    $$\text{sudo systemctl enable nginx}$$

---

### 3단계: AWS 보안 그룹(방화벽) 설정 (필수!)

Nginx 서비스가 인스턴스 내부에서 실행되더라도, 외부 인터넷에서 접근하려면 AWS EC2의 **보안 그룹(Security Group)**에서 HTTP 포트를 열어주어야 합니다.

1.  **AWS 콘솔 접근:** EC2 대시보드 $\to$ 인스턴스 선택 $\to$ **보안 그룹** 링크 클릭.
2.  **인바운드 규칙 편집:**
    * **규칙 추가:** 새로운 인바운드 규칙을 추가합니다.
    * **유형:** `HTTP` (포트 $80$)
    * **소스:** 웹 서비스를 제공할 대상에 따라 설정합니다. (일반 공개 웹사이트의 경우 $\text{0.0.0.0/0}$ 또는 $\text{Anywhere}$로 설정)
3.  **HTTPS 설정:**
    안전한 웹 운영을 위해 **`HTTPS` (포트 $443$) 규칙**도 함께 추가하는 것을 권장합니다.
    * **유형:** `HTTPS` (포트 $443$)
    * **소스:** $\text{0.0.0.0/0}$ 또는 $\text{Anywhere}$

---

### 4단계: Nginx 설정 파일 관리 및 운영

Nginx의 설정 파일은 Apache와 달리 구조가 간단하며, 주로 `/etc/nginx` 디렉터리 아래에 위치합니다.

1.  **기본 설정 파일 위치:**
    * **메인 설정 파일:** `/etc/nginx/nginx.conf`
    * **사이트별 설정 파일 (Virtual Host):** `/etc/nginx/sites-available/` 디렉터리에 파일을 생성하고, `/etc/nginx/sites-enabled/`에 심볼릭 링크를 연결하여 활성화합니다.

2.  **기본 웹 콘텐츠 경로:**
    * Nginx가 기본적으로 서비스하는 HTML 파일 경로는 `/var/www/html/` 입니다.

3.  **설정 변경 후 재시작 (운영 팁):**
    Nginx 설정 파일을 변경한 후에는 문법 오류가 없는지 확인하고 서비스를 재시작해야 합니다.

    * **문법 확인 (Test):** 설정 오류를 확인합니다. 오류가 있으면 반영되지 않습니다.
        $$\text{sudo nginx -t}$$
    * **설정 적용 (Reload):** 서비스 중단 없이 설정만 재로드합니다. (가장 선호되는 방식)
        $$\text{sudo systemctl reload nginx}$$
    * **서비스 재시작 (Restart):** 서비스가 완전히 중단되었다가 다시 시작됩니다.
        $$\text{sudo systemctl restart nginx}$$

---

### 5단계: 웹 브라우저 테스트

모든 설정이 완료되었으면, 웹 브라우저에 인스턴스의 **퍼블릭 IP 주소**를 입력하여 Nginx 기본 페이지에 접속되는지 확인합니다.

$$\text{http://[퍼블릭 IP 주소]}$$

정상적으로 접속되면 **"Welcome to nginx!"**라는 기본 페이지가 나타납니다. 이제 이 인스턴스를 통해 고성능 웹 서비스 환경을 구축할 수 있습니다.
