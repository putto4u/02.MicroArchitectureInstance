## AWS CLI 미설치 시 Terraform/IaC 작업 영향 분석

결론부터 말씀드리면, **"기술적으로는 AWS CLI가 없어도 Terraform은 작동하지만, 실무적으로는 인증 설정과 디버깅 과정에서 매우 불편하거나 에러가 발생할 확률이 높습니다."**

Terraform은 내부적으로 AWS CLI 명령어(`aws ...`)를 호출하는 것이 아니라, AWS SDK(Go 언어 기반 라이브러리)를 통해 API를 직접 호출하기 때문입니다. 하지만 **'자격 증명(Credential)'**을 관리하는 과정에서 CLI가 필수적인 역할을 합니다.

### 1. AWS CLI가 Terraform에 미치는 영향

| 구분 | AWS CLI 설치 시 | AWS CLI 미설치 시 |
| --- | --- | --- |
| **작동 원리** | `aws configure` 명령어로 생성된 자격 증명 파일을 Terraform이 자동으로 읽어들임. | Terraform이 읽을 자격 증명 파일이 없어, 사용자가 직접 파일을 생성하거나 환경 변수를 매번 입력해야 함. |
| **에러 발생 가능성** | **낮음** (표준화된 인증 방식 사용) | **높음** (오타, 파일 경로 실수, 환경 변수 누락 등으로 인한 `NoCredentialProviders` 에러 빈번) |
| **디버깅 편의성** | Terraform 에러 발생 시, CLI로 즉시 해당 리소스를 조회하여 교차 검증 가능. | Terraform 에러 메시지에만 의존해야 하며, 실제 클라우드 상태 확인이 번거로움. |
| **SSO/MFA 인증** | 최신 보안(AWS SSO 등) 로그인 토큰 갱신을 CLI가 자동으로 처리. | 토큰 갱신이 매우 복잡해져 사실상 연동이 어려움. |

---

### 2. 구체적인 차이점 (파일 시스템 관점)

Terraform의 AWS 공급자(Provider)는 기본적으로 운영체제의 특정 경로에 있는 자격 증명 파일을 찾습니다.

* **Linux/Mac:** `~/.aws/credentials`
* **Windows:** `%USERPROFILE%\.aws\credentials`

#### 상황 A: AWS CLI를 설치한 경우 (권장)

터미널에서 `aws configure`라고 치고 키를 입력하면, 위 경로에 **표준 포맷에 맞춰 파일이 자동으로 생성**됩니다. Terraform은 이 파일을 찾아 "아, 이 계정이구나" 하고 바로 작동합니다.

#### 상황 B: AWS CLI를 설치하지 않은 경우 (비권장)

사용자가 메모장을 열어 경로를 찾아 들어가 폴더를 만들고, 파일명을 정확히 맞춘 뒤, 아래 형식을 **직접 타이핑**해야 합니다.

```ini
[default]
aws_access_key_id = AKIAIOSFODNN7EXAMPLE
aws_secret_access_key = wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

```

> **위험 요소:** 이 과정에서 띄어쓰기 실수, 폴더명 오타(`.aws`인데 `aws`로 적음), 확장자 실수(`credentials.txt`로 저장) 등이 발생하면 Terraform은 **"자격 증명을 찾을 수 없습니다"**라는 에러를 뱉습니다.

---

### 3. 결론

Terraform 자체의 실행 파일(`terraform.exe`)이 AWS CLI 실행 파일(`aws.exe`)을 의존성(Dependency)으로 가지지는 않습니다.

하지만 **IaC 학습 및 실무 환경 구성**을 위해서는 **AWS CLI를 반드시 설치**하는 것이 좋습니다. 그 이유는 다음과 같습니다.

1. **표준 인증 관리:** `aws configure`를 통해 Terraform이 사용할 인증 정보를 가장 안전하고 정확하게 생성해줍니다.
2. **검증 도구:** Terraform 코드가 실패했을 때, "내 코드가 문제인지" 아니면 "AWS 계정 권한이 문제인지" 확인하려면 CLI로 명령어를 날려보는 것이 가장 빠릅니다.

따라서, **에러 없는 매끄러운 Terraform 실습을 위해 AWS CLI 설치 및 `aws configure` 설정은 필수 선행 단계**로 간주하십시오.

Next Step: Terraform 설치 및 AWS CLI로 생성한 자격 증명을 이용해 'Hello World' 인프라 배포 테스트
