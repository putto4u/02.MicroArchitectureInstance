AWS(Amazon Web Services)의 **VPC(Virtual Private Cloud)**는 AWS 클라우드 내에서 사용자의 논리적으로 격리된 가상 네트워크 공간을 정의하는 서비스입니다. 데이터센터의 기존 네트워크와 유사하지만, 클라우드의 확장성과 관리 편의성을 동시에 제공합니다.

---

## VPC의 핵심 개념과 구성 요소

VPC를 이해하기 위해서는 '공간', '연결', '보안'이라는 세 가지 관점에서 구성 요소를 살펴보아야 합니다.

### 1. 네트워크 공간 (Network Space)

* **VPC (Virtual Private Cloud)**: 하나의 리전에 생성되는 가장 큰 네트워크 단위입니다. 사설 IP 대역(CIDR)을 설정하여 생성합니다.
* **서브넷 (Subnet)**: VPC를 다시 세분화한 네트워크망입니다. 하나의 가용 영역(AZ)에 종속됩니다.
* **퍼블릭 서브넷**: 인터넷 게이트웨이와 연결되어 외부 인터넷과 통신이 가능한 영역.
* **프라이빗 서브넷**: 외부 인터넷과 직접 연결되지 않아 내부 리소스(DB 등)를 보호하는 영역.


* **라우팅 테이블 (Route Table)**: 서브넷 내에서 발생하는 트래픽이 어디로 향해야 하는지 결정하는 이정표 역할을 합니다.

### 2. 네트워크 연결 (Connectivity)

* **인터넷 게이트웨이 (IGW)**: VPC와 인터넷 간의 양방향 통신을 가능하게 합니다.
* **NAT 게이트웨이 (NAT Gateway)**: 프라이빗 서브넷에 있는 인스턴스가 업데이트 등을 위해 외부로 나가는 통신은 허용하되, 외부에서 들어오는 연결은 차단하는 장치입니다.
* **VPC 피어링 (Peering)**: 두 개의 VPC를 서로 연결하여 사설 IP로 직접 통신하게 합니다.
* **Transit Gateway**: 여러 VPC와 온프레미스 네트워크를 중앙에서 연결하는 허브 역할을 합니다.

### 3. 보안 (Security)

* **보안 그룹 (Security Group)**: **인스턴스(서브넷 내 개별 리소스)** 레벨의 가상 방화벽입니다 (상태 유지/Stateful).
* **네트워크 ACL (NACL)**: **서브넷** 레벨의 가상 방화벽입니다 (상태 비저장/Stateless).

---

## AWS VPC 주요 과금 요소 (2026년 기준)

VPC 자체를 생성하는 것에는 비용이 들지 않지만, 이를 구성하는 일부 서비스와 데이터 전송에는 과금이 발생합니다.

| 서비스 항목 | 과금 방식 (예상 비용) | 주의 사항 |
| --- | --- | --- |
| **퍼블릭 IPv4 주소** | **$0.005 / 시간당 (개당)** | 모든 퍼블릭 IPv4 주소에 부과 (사용 중인 주소 포함) |
| **NAT 게이트웨이** | **$0.045 / 시간당 + $0.045 / GB (처리량)** | 시간당 고정비가 있으므로 미사용 시 반드시 삭제 |
| **VPC 엔드포인트 (Interface)** | **$0.01 / 시간당 (AZ당) + $0.01 / GB** | PrivateLink 기술을 사용하며 데이터 처리비 발생 |
| **데이터 전송 (In/Out)** | **무료 (In) / $0.09 per GB (Out)** | 인터넷으로 나가는 데이터(Out)에 대해 과금 |
| **Transit Gateway** | **$0.05 / 시간당 (연결당) + $0.02 / GB** | 다수의 VPC를 연결할 때 유용하지만 고정 비용 발생 |
| **VPC 암호화 제어** | **2026년 3월 1일까지 무료** | 리전 내 VPC 간 통신 암호화 기능 (이후 유료 전환 예정) |

---

## 요약 가이드

VPC를 설계할 때는 보안을 위해 서비스를 용도별(Web, WAS, DB)로 서브넷을 나누고, 외부 노출이 필요한 서버만 퍼블릭 서브넷에 배치하는 것이 정석입니다. 특히 **NAT 게이트웨이**나 **퍼블릭 IP**는 생성과 동시에 시간당 비용이 발생하므로 실습 후에는 반드시 관련 리소스를 정리해야 과금을 방지할 수 있습니다.

Next Step: VPC 서브넷 설계 및 라우팅 구성 실습

VPC 아키텍처
NAT 과금
서브넷 보안
게이트웨이 종류
