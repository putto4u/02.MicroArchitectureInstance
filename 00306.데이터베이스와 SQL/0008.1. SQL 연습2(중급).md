# SQL 중급 실습 가이드 (employees 샘플 DB 기반)

이 가이드는 실무에서 자주 쓰이는 SQL 기술을 익히기 위해 `employees` 데이터베이스를 활용한 30개의 실습 문제와 그에 대한 모범 답안을 포함하고 있습니다. 깃허브에 바로 업로드하여 학습 자료로 활용할 수 있도록 구성되었습니다.

---

## [Section 1] 실습 문제 (Exercise Problems)

### Part 1: 데이터 조회 및 필터링 (기초~중급)

1. **동명이인 사원 찾기**: `first_name`과 `last_name`이 모두 같은 사원의 성명과 중복 횟수를 조회하세요.
2. **특정 기간 입사자**: 1990년부터 1995년 사이에 입사한 사원 중 현재 `Senior Engineer` 직급인 사람을 출력하세요.
3. **퇴사자 명단**: `dept_emp` 테이블에서 `to_date`가 '9999-01-01'이 아닌 사원(퇴사자)의 사번과 마지막 근무 부서를 조회하세요.
4. **연봉 10만 달러 이상**: 역대 연봉 중 한 번이라도 100,000달러를 넘긴 적이 있는 사원의 사번과 최고 연봉을 출력하세요.
5. **여성 매니저**: 현재 부서 매니저(`dept_manager`) 중 성별이 여성(`F`)인 사원의 사번과 성명을 조회하세요.
6. **이름 마스킹**: 모든 사원의 이름을 `first_name`은 그대로, `last_name`은 첫 글자만 남기고 `*` 처리하여 조회하세요.
7. **장기 근속자**: 입사한 지 10,000일이 넘은 사원의 사번과 입사일을 출력하세요.
8. **부서 이름별 정렬**: 모든 사원의 사번과 부서명을 조회하되, 부서명(A-Z) 순으로 먼저 정렬하고 사번 순으로 정렬하세요.
9. **생일이 같은 사원**: 오늘 날짜를 기준으로 이번 달에 생일이 있는 사원의 사번과 생년월일을 출력하세요.
10. **직급별 평균 연령**: 현재 재직 중인 사원의 직급(`title`)별 평균 나이를 계산하세요.

### Part 2: 집계 및 그룹화 (데이터 분석)

11. **부서별 최고 연봉**: 각 부서별로 현재 가장 높은 연봉을 받는 금액을 조회하세요.
12. **연봉 상승 횟수**: 사원별로 연봉이 몇 번 인상되었는지 횟수를 계산하여 상위 10명을 출력하세요.
13. **부서 이동 기록**: 부서 이동(`dept_emp`) 횟수가 2회 이상인 사원의 리스트를 조회하세요.
14. **연도별 채용 인원**: 1985년부터 연도별로 몇 명의 사원이 채용되었는지 연도순으로 정렬하세요.
15. **대규모 부서**: 현재 소속 사원이 50,000명 이상인 부서의 이름과 사원 수를 출력하세요.
16. **성별 임금 격차**: 현재 재직자 기준 남성과 여성의 평균 연봉 차이를 계산하세요.
17. **직급별 성비**: 각 직급(`title`)별로 남성과 여성의 숫자를 각각 집계하세요.
18. **최고령/최연소 매니저**: 현재 매니저 중 가장 나이가 많은 사람과 가장 적은 사람의 생년월일을 조회하세요.
19. **부서별 평균 근속 기간**: 각 부서별 사원들의 평균 근속 연수를 소수점 첫째 자리까지 구하세요.
20. **연봉 구간별 인원수**: 연봉을 1만 달러 단위 구간으로 나누어 각 구간에 몇 명이 속하는지 집계하세요.

### Part 3: 서브쿼리 및 고급 조인 (고급 분석)

21. **부서 평균보다 높은 연봉**: 자신이 속한 부서의 현재 평균 연봉보다 더 많이 받는 사원의 사번과 이름을 조회하세요.
22. **최단기 매니저**: 매니저 직을 수행한 기간이 가장 짧았던 사원의 정보를 출력하세요.
23. **매니저보다 높은 연봉**: 현재 일반 사원 중 자신의 부서 매니저보다 연봉이 높은 사람의 사번을 찾으세요.
24. **직급 변경 없는 사원**: 입사 후 지금까지 직급(`title`)이 한 번도 바뀌지 않은 사원의 명단을 추출하세요.
25. **부서 내 연봉 순위**: `DENSE_RANK`를 사용하여 부서 내에서 연봉 순위 상위 3명씩만 추출하세요.
26. **누적 연봉 합계**: 특정 부서 사원들의 연봉을 사번 순으로 누적 합계(Running Total)를 구하세요.
27. **최초 대비 상승률**: 사원별로 최초 연봉 대비 현재 연봉이 몇 % 상승했는지 계산하세요.
28. **빈 부서 확인**: 현재 매니저가 배정되지 않았거나 사원이 한 명도 없는 부서가 있는지 `NOT EXISTS`로 확인하세요.
29. **전체 평균 대비 편차**: 전체 사원 평균 연봉과 개별 사원 연봉의 차이를 출력하세요.
30. **매니저 이름 출력**: 사원의 이름과 해당 사원이 속한 부서의 현재 매니저 이름을 나란히 출력하세요.

---
